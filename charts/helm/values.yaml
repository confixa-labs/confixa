# REQUIRED DEPENDENCIES VALUES DO NOT REMOVE
redis:
  enable: true
  auth:
    enabled: true
    existingSecret: "redis-password-secret"
  service:
    name: "confixa-redis-master"
  master:
    nodeSelector: {}
  replica:
    replicaCount: 1
    nodeSelector: {}
rabbitmq:
  enable: true
  service:
    name: "confixa-rabbitmq"
  auth:
    username: admin
    existingPasswordSecret: "rabbitmq-password-secret"
mongodb:
  enable: true
  name: "confixa-mongodb"
  containerName: "confixa-mongodb"
  image:
    repository: mongo
    tag: "8.0.5" # Supports both x86_64 and ARM64
    pullPolicy: IfNotPresent
  service:
    name: "confixa-mongodb"
    type: ClusterIP
    port: 27017
  auth:
    rootUser: root
    rootDatabase: "confixa"
  persistence:
    enabled: true
    size: 8Gi
  resources: {}
  nodeSelector: {}
  tolerations: []
  affinity: {}
argocd:
  enable: true
  redis:
    enabled: false # Disable the built-in Redis
  ## Set external Redis configuration
  externalRedis:
    host: "confixa-redis-master" # Change this to match your Redis Service name
    port: 6379
    existingSecret: "redis-password-secret" # Kubernetes Secret that stores the Redis password
    existingSecretPasswordKey: "redis-password" # Key in the secret that holds the password
  server:
    containerPorts:
      http: 3000
kubernetesdashboard:
  enable: true
  metricsScraper:
    enable: true
    name: dashboard-metrics-scraper
    containerName: dashboard-metrics-scraper
    service:
      port: 8000
      targetPort: 8000
  name: kubernetes-dashboard
  containerName: kubernetes-dashboard
  kong:
    deployment:
      name: admin-user
      automountServiceAccountToken: true
    env:
      ADMIN_LISTEN: off
      PROXY_LISTEN: |
        0.0.0.0:8000, [::]:8000, 0.0.0.0:8443 http2 ssl, [::]:8443 http2
        ssl
      PORT_MAPS: 80:8000, 443:8443
    proxy:
      type: ClusterIP
      http:
        enabled: true
  service:
    port: 80
    targetPort: 9091
  serviceAccount:
    adminServiceAccountRef: admin-user
  secret:
    tokenSecretRef: admin-user-token
    csrfSecretRef: kubernetes-dashboard-csrf
    certsSecretRef: kubernetes-dashboard-certs
  configMapRef: kubernetes-dashboard-settings
kubecost:
  enable: true
  # kubecostToken: Add the Token for Enterprise users
uptimekuma:
  enable: true
  username: "system-health"
  password: "SystemHealth123!@#"
  service:
    name: "confixa-uptimekuma"
contour:
  enable: true
oauth2proxy:
  enable: true
# REQUIRED DEPENDENCIES VALUES ENDS HERE
appName: confixa
commonConfigMap: confixa-configmap
passwordSecretsManagerName: confixa-passwords-secret
passwordRedisSecretsManagerName: redis-password-secret
passwordRabbitMQSecretsManagerName: rabbitmq-password-secret
apiGateway:
  enable: true
  name: confixa-api
  containerName: confixa-api
  cronName: confixa-api-cron
  cronContainerName: confixa-api-cron
  image:
    repository: asia-south1-docker.pkg.dev/confixa-rnd/confixa-docker-images/dev-confixa-api
    tag: sha-2d9385d757bef8c39c9bb4d56d7e5b8db819f8f0
    pullPolicy: Always
  annotations:
    git: https://github.com/confixa/confixa-gitops.git
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 750m
      memory: 1024Mi
  ports:
    containerPort: 5001
    protocol: TCP
  configMapRef: confixa-api
  service:
    protocol: TCP
    port: 80
    targetPort: 5001
    type: ClusterIP
llmKumaApiGateway:
  enable: true
  name: confixa-llm-kuma-api
  containerName: confixa-llm-kuma-api
  image:
    repository: asia-south1-docker.pkg.dev/confixa-rnd/confixa-docker-images/dev-confixa-llm-kuma
    tag: sha-80b288da85180c2683f24a9dcfeb34615be05710
    pullPolicy: Always
  annotations:
    git: https://github.com/confixa/confixa-gitops.git
  replicas: 1
  ports:
    containerPort: 5002
    protocol: TCP
  configMapRef: confixa-llm-kuma-api
  service:
    protocol: TCP
    port: 80
    targetPort: 5002
    type: ClusterIP
frontend:
  enable: true
  name: confixa-frontend
  containerName: confixa-frontend
  image:
    repository: asia-south1-docker.pkg.dev/confixa-rnd/confixa-docker-images/dev-confixa-frontend
    tag: sha-5b1621cd1e46acc0b169b09dbf066a6398aa84be
    pullPolicy: Always
  annotations:
    git: https://github.com/confixa/confixa-gitops.git
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 512Mi
  ports:
    containerPort: 5000
    protocol: TCP
  configMapRef: confixa-frontend
  service:
    protocol: TCP
    port: 80
    targetPort: 5000
    type: ClusterIP
watcher:
  enable: true
  name: confixa-watcher
  containerName: confixa-watcher
  image:
    repository: asia-south1-docker.pkg.dev/confixa-rnd/custom-runner/configmap-updates-watcher
    tag: sha-1d2d767afc82565a5f7278d7dd92c5a919a763ce
  annotations:
    git: https://github.com/confixa/confixa-gitops.git
  replicas: 1
  secret:
    secretRef:
      variables: confixa-watcher-variables
      file: confixa-watcher
    variables:
      configMapName: confixa-frontend
      deploymentName: confixa-frontend
      customExec: "true"
      execPath: /app/frontend-update.sh
      namespace: backend
      repoUrl: https://github.com/confixa/Confixa-FrontEnd.git
      branch: uat
      serviceAccountKeyPath: /tmp/service-account.json
      dockerRegion: asia-south1-docker.pkg.dev
      gcrProjectId: confixa-rnd
      dockerImageName: custom-runner/public-build
      containerName: confixa-frontend
    file:
      mountPath: /mnt/secrets
      secretInfo: '{key:"value"}'
  serviceAccount:
    serviceAccountRef: confixa-configmap-watcher
    volumeRef: confixa-watcher-volume
  docker:
    dockerRef: docker-socket
    dockerType: Socket
    mountPath: /var/run/docker.sock
  role:
    roleRef: confixa-watcher-role
  roleBinding:
    roleBindingRef: confixa-watcher-role-binding
